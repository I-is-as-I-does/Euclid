#!/usr/bin/php
<?php
/* This file is part of Euclid | SSITU | (c) 2021 I-is-as-I-does | MIT License */

use SSITU\Euclid\EuclidMap;
use SSITU\Euclid\Euclid;

if (php_sapi_name() !== 'cli') {
    exit;
}

if($argc < 2){
    $argv[1] = 'help';
}
    /* @doc: Edit path to composer autoload if need be */
    require_once(dirname(__DIR__).'/vendor/autoload.php');


    /* @doc: Edit $argv here if you do so wish */


    /* @doc: Optionally call EuclidMap class; cf. readme for details.
       By default, Euclid fetch config/euclid_config.json.
       For demo purposes: */
       
    $cmdMapClass = new EuclidMap();

    $cmdMapClass->setMapFromConfig(dirname(__DIR__).'/config/euclid-demo.json');
    $cmdMapClass->remvFromMap('unsetme');
    $cmdMapClass->updateMap('demo', 'build*', 'methodHook');    
    $cmdMap = $cmdMapClass->getMap();

    $Euclid = new Euclid($argv, $cmdMap);

