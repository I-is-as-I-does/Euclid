#!/usr/bin/php
<?php
/* This file is part of Euclid | ExoProject | (c) 2021 I-is-as-I-does | MIT License */

use ExoProject\Euclid\EuclidMap;
use ExoProject\Euclid\Euclid;

if (php_sapi_name() !== 'cli') {
    exit;
}

if ($argc > 1) {

    /* @doc: Edit path to composer autoload if need be */
    require_once('./vendor/autoload.php');


    /* @doc: Edit $argv here if you do so wish */


    /* @doc: Optionally call EuclidMap class; cf. readme for details.
       By default, Euclid fetch config/euclid_config.json.
       For demo purposes: (cf. test/DemoDoer.php) */
       
    $cmdMapClass = new EuclidMap();

    $cmdMapClass->setMapFromConfig('./test/custom_euclid_config.json');
    $cmdMapClass->remvFromMap('unsetme');
    $cmdMapClass->updateMap('demo', 'build*', 'methodHook');   
    $cmdMapClass->saveEdits();   
    $cmdMap = $cmdMapClass->getMap();

    $Euclid = new Euclid($argv, $cmdMap);
}
